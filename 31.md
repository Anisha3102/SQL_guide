# How do you find the second highest salary in a table?

## 1. Using ORDER BY with LIMIT / OFFSET (MySQL, PostgreSQL)
```sql SELECT salary
FROM employees
ORDER BY salary DESC
LIMIT 1 OFFSET 1;
```


> ORDER BY salary DESC → sorts salaries from highest to lowest.

> LIMIT 1 OFFSET 1 → skips the highest (first row) and fetches the next one.

## 2. Using MAX() with a Subquery (Works in all SQL databases)
```sql SELECT MAX(salary) AS second_highest
FROM employees
WHERE salary < (SELECT MAX(salary) FROM employees);
```

> Finds the highest salary less than the maximum salary.

> This works well even if salaries are not unique.

## 3. Using DENSE_RANK() (SQL Server, Oracle, PostgreSQL, MySQL 8+)
```sql SELECT salary
FROM (
    SELECT salary, DENSE_RANK() OVER (ORDER BY salary DESC) AS rnk
    FROM employees
) t
WHERE rnk = 2;
```


> DENSE_RANK() assigns ranking without skipping ranks when duplicates exist.

> Ensures you get the second unique salary, not just the second row.

## 4. Using ROW_NUMBER() (if you want strictly the second row, even if duplicate)
```sql SELECT salary
FROM (
    SELECT salary, ROW_NUMBER() OVER (ORDER BY salary DESC) AS rn
    FROM employees
) t
WHERE rn = 2;
```

> Unlike DENSE_RANK(), ROW_NUMBER() does not handle ties.

> If top salary appears multiple times, it still considers them first, so the second row might be the same as first.